## FableFlow（寓言流）
- 一个基于多 Agent 协作的长篇故事创意与写作系统
- 没什么技术含量，只是用于展示无代码多 AGENT 的实际应用场景
- 总体来说是个玩具，但是喜欢的题材实在是没肉吃的话，拿来写个十来章自产自销也是马马虎虎的 😂

> <img width="2880" height="1773" alt="01" src="https://github.com/user-attachments/assets/7378a045-de06-4c4a-9589-4c9eccc06e42" />

## 📖 项目简介
- 通过三个专业化 AI Agent 的协作，实现从创意构思到正文输出的完整创作流程
- 专注于创作具有强烈沉浸感与情感冲击力的优秀小说
- 通过精准的细节描写、递进的情节张力与深刻的角色塑造，为读者带来难忘的阅读体验

## ⭐ 核心特性
### 三位一体的 Agent 协作系统
- **架构师**：负责场景规划与剧情大纲设计，输出包含高冲击力细节的批量大纲
- **写作员**：根据大纲输出高质量正文，每章约 8000 字，分三次输出
- **书记员**：维护世界观、人物档案、剧情摘要等持久化数据，确保逻辑一致性

### 技术特征
- **职责分离**：三个 Agent 各司其职，避免单一 Agent 承担过多任务导致的质量下降
- **质量控制**：内置详细创作准则，书记员执行逻辑质检，确保输出质量
- **伏笔管理**：完整的伏笔管理系统，确保故事的连贯性和完整性
- **滑动上下文**：智能管理上下文长度，保证创作一致性的同时避免性能问题

## 💻 使用方法
###  运行环境
- FableFlow 是一个纯 Agent 应用，需要依赖 Agent 框架才能运行
- 开发环境是 `VSCode` + `Roo Code` + `DeepSeek v3.2`
- 理论上其他 Agent 框架或者编程助手也可以，请自行尝试

### 准备工作
- 安装 [→ VSCode ←]（https://code.visualstudio.com）
- 在 `VSCode` 安装 `Roo Code` 扩展
- 根据个人需求自行配置 `VSCode` 和 `Roo Code`

### 创建智能体
- 打开 `Roo Code` 设置，选择 `模式` 选项卡，新建以下模式：
  - 架构师
    - **角色定义**：填入 `99_System/01_架构师.md` 文件内的内容
    - **可用功能**： 勾选 `读取文件` `运行命令` 权限
  - 写作员
    - **角色定义**：填入 `99_System/02_写作员.md` 文件内的内容
    - **可用功能**： 勾选 `读取文件` `编辑文件` `运行命令` 权限
  - 书记员
    - **角色定义**：填入 `99_System/03_书记员.md` 文件内的内容
    - **可用功能**： 勾选 `读取文件` `编辑文件` `运行命令` 权限

### 前置准备
- 清空残留的文件：`01_World/`、`02_Memory/`、`03_Story/`
- 根据需要修改 `01_Base/初始创意.md` `00_Base/大纲设计准则.md` `00_Base/场景描写准则.md` 中的内容

### 创作流程
- 创意：
  - 选择`架构师`智能体，输入召唤词：`开始执行创作基座任务`
  - 架构师会根据初始创意和创作准则，开始与你讨论故事创意
  - 聊完所有脑洞和细节后，输入召唤词：`开始执行章节规划任务`，架构师输出分章节剧情大纲
- 记录：
  - 选择`书记员`智能体，输入召唤词：`开始执行创作基座持久化任务`
  - 书记员会将创作基座写入文件持久化
- 重新启动一个新的对话任务（可选但是推荐，长上下文会降低模型智能，并且会消耗更多 Token）
- 创作第x章上半部：
  - 选择`写作员`智能体，输入召唤词：`开始执行第x章上半部撰写任务`
  - 观察输出，确认是否符合预期，若不符合，你可以提出修改意见让其修改或者重写
- 重新启动一个新的对话任务（可选但是推荐，长上下文会降低模型智能，并且会消耗更多 Token）
- 创作第x章下半部：
  - 选择`写作员`智能体，输入召唤词：`开始执行第x章下半部撰写任务`
  - 观察输出，确认是否符合预期，若不符合，你可以提出修改意见让其修改或者重写
- 记录：
  - 重新启动一个新的对话任务（可选，但是推荐，因为长上下文会降低模型智能，并且浪费更多钱）
  - 每个章节完整的创作完成后，选择书记员智能体，输入召唤词：`开始执行动态记忆持久化任务`
  - 观察输出，确认记录下的事实是否有误或缺失，如有，你可以自行修改或者让模型修改
- 重复 `创作 → 记录` 步骤，直至完成

## 📁 目录结构
```
FableFlow/
├── 00_Base/                    # 基准规则
│   ├── 大纲设计准则.md
│   └── 场景描写准则.md
├── 01_World/                   # 静态设定
│   └── 初始创意.md
├── 02_Memory/                  # 动态记忆
├── 03_Story/                   # 故事正文
└── 99_System/                  # 系统资料
    ├── 01_架构师.md
    ├── 02_写作员.md
    └── 03_书记员.md
```

## 🎬 适用场景
- 长篇小说创作，特别是需要保持高度一致性和细节丰富度的作品
- 悬疑推理、科幻奇幻、现实主义、浪漫爱情等类型文学
- 需要严格管理设定、人物、伏笔的复杂世界观故事

## 🤖 一个由 `FableFlow` 生成的故事的示例
- 点击下载 [→ Sample_SFW ←]（https://github.com/neavo/FableFlow/releases/tag/Sample_SFW）
- 一共五章
- 全自动生成，无人工介入
- 所有创意和正文编纂都由 AI 处理
- 使用模型是 [→ DeepSeek v3.2 ←]（https://platform.deepseek.com） 思考模式

## 💡 注意事项
- `初始创意.md` 是可选的，不提供这个文件直接开聊也可以
- 受限于纯 AGENT 架构，任务的触发和执行不是很稳定，注意观察各步骤的输出，多多重试吧
- 尽量选择 AGENT 能力强的思考模型，比如 `GLM 4.7` `DeepSeek v3.2` `Gemini 3 Pro/Flash`
- Token 消耗量还是挺大的，用贵模型的话悠着点，`DeepSeek v3.2` 便宜够用，没什么特殊需求的话建议先试试它

## ⚖️ 许可证
- 本项目采用 [CC BY-NC 4.0]（LICENSE）（知识共享 署名-非商业 4.0）许可证
- **允许：**
  - ✅ 个人学习、研究和创作
  - ✅ 非商业用途的自由使用、分享、修改和衍生
- **禁止：**
  - ❌ 商业用途（任何以盈利为目的的使用）
- **要求：**
  - 📝 使用时需署名原作者